<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Loading...</title>
<link rel="icon" href="favicon.ico">

<style>
html, body {
    margin: 0;
    height: 100%;
}

body {
    display: flex;
    justify-content: center;
    align-items: center;
    background: radial-gradient(circle at top, #0b1e3d, #050b1a);
}

.loader {
    width: min(26vw, 96px);
    height: min(26vw, 96px);
    border: 6px solid rgba(100,150,255,0.2);
    border-top: 6px solid #4da3ff;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    box-shadow: 0 0 30px rgba(77,163,255,0.6);
}

@keyframes spin {
    to { transform: rotate(360deg); }
}
</style>
</head>

<body>
<div class="loader"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyDmRrflu-Ysm6DyxV65SrMZ0AL7TP58mX4",
  authDomain: "login-34954.firebaseapp.com",
  projectId: "login-34954",
  appId: "1:422184727508:web:cef39fc913d526febe9c41"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

/* Always show loader for 1.7s */
setTimeout(() => {
    onAuthStateChanged(auth, user => {
        if (user) {
            window.location.replace("dashboard.html");
        } else {
            window.location.replace("login.html");
        }
    });
}, 1700);
</script>
</body>
</html>