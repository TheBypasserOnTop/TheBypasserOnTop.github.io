<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Dashboard - Bypass Zone</title>

<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:"Inter", sans-serif; }

body {
    display:flex;
    min-height:100vh;
    background: linear-gradient(135deg, #02070b, #031423, #041b33);
    background-size: 200% 200%;
    animation: gradientMove 12s infinite ease-in-out;
    color:white;
}
@keyframes gradientMove { 0% {background-position:0 0;} 50%{background-position:100% 100%;} 100%{background-position:0 0;} }

/* ===== SIDEBAR ===== */
#sidebar {
    width:250px;
    background: rgba(0,0,0,0.25);
    backdrop-filter: blur(20px);
    padding:25px 20px;
    display:flex;
    flex-direction:column;
    gap:30px;
    transition: width 0.3s ease;
    overflow:hidden;
    color:#fff;
}
#sidebar.collapsed { width:70px; }

#hamburger-title {
    display:flex;
    align-items:center;
    gap:15px;
    cursor:pointer;
}
.hamburger { width:25px; height:2px; background:white; position:relative; }
.hamburger::before, .hamburger::after {
    content:""; width:25px; height:2px; background:white; position:absolute; left:0; transition:0.25s;
}
.hamburger::before { top:-8px; }
.hamburger::after { top:8px; }

#sidebar h1 { font-size:22px; font-weight:600; white-space: nowrap; transition: 0.3s ease, opacity 0.3s ease; }
#sidebar.collapsed h1 { opacity:0; width:0; overflow:hidden; }

.tabs { display:flex; flex-direction:column; gap:10px; }
.tab {
    display:flex;
    align-items:center;
    justify-content:flex-start; /* left align icons/label */
    gap:10px;
    padding:12px 10px;
    border-radius:8px;
    cursor:pointer;
    transition: background 0.2s, padding 0.3s;
    color:#fff;
}
.tab.active, .tab:hover { background: rgba(0,200,255,0.25); }

.tab span.label { white-space: nowrap; transition: opacity 0.3s ease, width 0.3s ease; }
#sidebar.collapsed .tab span.label { opacity:0; width:0; overflow:hidden; }

#sidebar.collapsed .tab {
    justify-content:center; /* center icon when collapsed */
    padding:12px 0; /* remove horizontal padding for collapsed state */
}

/* ===== MAIN CONTENT ===== */
#main {
    flex:1;
    padding:40px 40px 40px 10px; /* reduced left padding */
    margin-left:250px; /* expanded sidebar width */
    margin-right:100px; /* space for profile circle */
    display:flex;
    flex-direction:column;
    gap:25px;
    transition: margin-left 0.3s ease, padding-left 0.3s ease;
}
#sidebar.collapsed ~ #main { 
    margin-left:70px; 
    padding-left:40px; /* keep some left padding when collapsed */
}

.content-card { 
    background: rgba(255,255,255,0.08); 
    backdrop-filter: blur(20px); 
    padding:25px; 
    border-radius:15px; 
    color:white;
}

/* ===== PROFILE ===== */
#profile-container { position:absolute; top:25px; right:25px; }
#pfp {
    width:55px;
    height:55px;
    border-radius:50%;
    display:flex;
    align-items:center;
    justify-content:center;
    color:white;
    font-size:24px;
    font-weight:bold;
    cursor:pointer;
    border:2px solid rgba(255,255,255,0.4);
    user-select:none;
}
#pfp:hover { transform: scale(1.05); }

#dropdown {
    position:absolute;
    right:0;
    top:70px;
    width:200px;
    background: rgba(255,255,255,0.08);
    backdrop-filter: blur(12px);
    border-radius:12px;
    padding:15px;
    display:none;
}
#username-display { text-align:center; font-weight:600; margin-bottom:15px; }
#logout-btn { width:100%; padding:10px; background:#ff4545; border:none; border-radius:8px; color:white; cursor:pointer; }
#logout-btn:hover { background:#d93636; }

/* ===== SIMPLE TAB ICONS ===== */
.tab .icon { font-size:18px; width:18px; display:inline-block; text-align:center; }

</style>
</head>
<body>

<!-- SIDEBAR -->
<div id="sidebar">
    <div id="hamburger-title">
        <div class="hamburger"></div>
        <h1>Bypass Zone</h1>
    </div>

    <div class="tabs">
        <div class="tab active" data-tab="dashboard">
            <span class="icon">üè†</span>
            <span class="label">Dashboard</span>
        </div>
        <div class="tab" data-tab="example1">
            <span class="icon">üìÑ</span>
            <span class="label">Example Tab 1</span>
        </div>
        <div class="tab" data-tab="example2">
            <span class="icon">‚öôÔ∏è</span>
            <span class="label">Example Tab 2</span>
        </div>
    </div>
</div>

<!-- MAIN CONTENT -->
<div id="main">
    <div class="content-card" id="dashboard-content">
        <h2>Welcome, <span id="username-span">User</span>!</h2>
        <p>This is your dashboard. Here you can see all about the website and navigate through tabs.</p>
    </div>

    <div class="content-card" id="example1-content" style="display:none;">
        <h2>Example Tab 1</h2>
        <p>Content for example tab 1 goes here.</p>
    </div>

    <div class="content-card" id="example2-content" style="display:none;">
        <h2>Example Tab 2</h2>
        <p>Content for example tab 2 goes here.</p>
    </div>
</div>

<!-- PROFILE -->
<div id="profile-container">
    <div id="pfp">A</div>
    <div id="dropdown">
        <div id="username-display">Loading...</div>
        <button id="logout-btn">Log Out</button>
    </div>
</div>

<script>
// ===== ACCESS CONTROL =====
const loggedInUser = sessionStorage.getItem("loggedInUser");
if(!loggedInUser) window.location.href = "index.html";
document.getElementById("username-span").textContent = loggedInUser;
document.getElementById("username-display").textContent = loggedInUser;

// ===== PROFILE CIRCLE =====
const pfp = document.getElementById("pfp");
const firstLetter = loggedInUser.charAt(0).toUpperCase();
pfp.textContent = firstLetter;
const colors = ["#1E90FF","#FF4500","#32CD32","#FFD700","#6A5ACD","#FF69B4","#00CED1"];
pfp.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];

// Profile dropdown
const dropdown = document.getElementById("dropdown");
let isOpen=false;
pfp.addEventListener("click", ()=>{isOpen=!isOpen; dropdown.style.display=isOpen?"block":"none";});
document.addEventListener("click",(e)=>{if(!pfp.contains(e.target)&&!dropdown.contains(e.target)){dropdown.style.display="none"; isOpen=false;}});
document.getElementById("logout-btn").addEventListener("click",()=>{sessionStorage.removeItem("loggedInUser"); window.location.href="index.html";});

// ===== TABS =====
const tabs=document.querySelectorAll(".tab");
tabs.forEach(tab=>{
    tab.addEventListener("click",()=>{
        tabs.forEach(t=>t.classList.remove("active"));
        tab.classList.add("active");
        // Hide all content
        document.getElementById("dashboard-content").style.display="none";
        document.getElementById("example1-content").style.display="none";
        document.getElementById("example2-content").style.display="none";
        // Show selected
        document.getElementById(`${tab.dataset.tab}-content`).style.display="block";
    });
});

// ===== SIDEBAR COLLAPSE =====
const sidebar = document.getElementById("sidebar");
document.getElementById("hamburger-title").addEventListener("click",()=>{
    sidebar.classList.toggle("collapsed");
});
</script>
</body>
</html>
