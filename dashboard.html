<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Dashboard - Bypass Zone</title>

<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:"Inter", sans-serif; }

body {
    display:flex;
    min-height:100vh;
    background: linear-gradient(135deg, #02070b, #031423, #041b33);
    background-size: 200% 200%;
    animation: gradientMove 12s infinite ease-in-out;
    color:white;
}
@keyframes gradientMove { 0% {background-position:0 0;} 50%{background-position:100% 100%;} 100%{background-position:0 0;} }

/* ===== SIDEBAR ===== */
#sidebar {
    width:250px;
    background: rgba(0,0,0,0.25);
    backdrop-filter: blur(20px);
    padding:25px 20px;
    display:flex;
    flex-direction:column;
    gap:30px;
    transition: width 0.3s ease;
    overflow:hidden;
    color:#fff;
}
#sidebar.collapsed { width:70px; }

#hamburger-title { display:flex; align-items:center; gap:15px; cursor:pointer; }
.hamburger { width:25px; height:2px; background:white; position:relative; }
.hamburger::before, .hamburger::after {
    content:""; width:25px; height:2px; background:white; position:absolute; left:0; transition:0.25s;
}
.hamburger::before { top:-8px; }
.hamburger::after { top:8px; }

#sidebar h1 {
    font-size:22px; font-weight:600; white-space: nowrap;
    transition: 0.3s ease, opacity 0.3s ease;
}
#sidebar.collapsed h1 { opacity:0; width:0; overflow:hidden; }

.tabs { display:flex; flex-direction:column; gap:10px; }
.tab {
    display:flex; align-items:center; justify-content:flex-start;
    gap:10px; padding:12px 10px; border-radius:8px; cursor:pointer;
    transition: background 0.2s, padding 0.3s;
    color:#fff;
}
.tab.active, .tab:hover { background: rgba(0,200,255,0.25); }

.tab span.label { white-space: nowrap; transition: opacity 0.3s ease, width 0.3s ease; }
#sidebar.collapsed .tab span.label { opacity:0; width:0; overflow:hidden; }

#sidebar.collapsed .tab { justify-content:center; padding:12px 0; }

/* Tab icons (fix size issue) */
.tab .icon {
    font-size:18px;
    width:18px;
    display:inline-block;
    text-align:center;
}

/* ===== MAIN CONTENT ===== */
#main {
    flex: 1; padding: 40px;
    margin-right:100px;
    display: flex; flex-direction: column; gap: 25px;
    transition: padding 0.3s ease;
}
#sidebar.collapsed ~ #main { margin-left:70px; }

.content-card {
    background: rgba(255,255,255,0.08);
    backdrop-filter: blur(20px);
    padding:25px;
    border-radius:15px;
    color:white;
}

/* ===== PROFILE ===== */
#profile-container { position:absolute; top:25px; right:25px; }
#pfp {
    width:55px; height:55px;
    border-radius:50%; display:flex; align-items:center; justify-content:center;
    color:white; font-size:24px; font-weight:bold; cursor:pointer;
    border:2px solid rgba(255,255,255,0.4); user-select:none;
}
#pfp:hover { transform: scale(1.05); }

#dropdown {
    position:absolute; right:0; top:70px;
    width:200px; background: rgba(255,255,255,0.08);
    backdrop-filter: blur(12px);
    border-radius:12px; padding:15px; display:none;
}
#username-display { text-align:center; font-weight:600; margin-bottom:15px; }
#logout-btn {
    width:100%; padding:10px; background:#ff4545;
    border:none; border-radius:8px; color:white; cursor:pointer;
}
#logout-btn:hover { background:#d93636; }

</style>
</head>
<body>

<!-- SIDEBAR -->
<div id="sidebar">
    <div id="hamburger-title">
        <div class="hamburger"></div>
        <h1>Bypass Zone</h1>
    </div>

    <div class="tabs">
        <div class="tab active" id="dashboard-tab">
            <span class="icon">üè†</span>
            <span class="label">Dashboard</span>
        </div>

        <div class="tab" id="websites-tab">
            <span class="icon">üîó</span>
            <span class="label">Websites</span>
        </div>

        <div class="tab" id="settings-tab">
            <span class="icon">‚öôÔ∏è</span>
            <span class="label">Settings</span>
        </div>
    </div>
</div>

<!-- MAIN -->
<div id="main">
    <div class="content-card">
        <h2>Welcome, <span id="username-span">User</span>!</h2>
        <p>This is your dashboard. Navigate through the tabs on the left.</p>
    </div>
</div>

<!-- PROFILE -->
<div id="profile-container">
    <div id="pfp">A</div>
    <div id="dropdown">
        <div id="username-display">Loading...</div>
        <button id="logout-btn">Log Out</button>
    </div>
</div>

<script>
// ===== ACCESS CONTROL =====
const loggedInUser = sessionStorage.getItem("loggedInUser");
if (!loggedInUser) window.location.href = "index.html";

document.getElementById("username-span").textContent = loggedInUser;
document.getElementById("username-display").textContent = loggedInUser;

// ===== PFP COLOR (persistent across pages) =====
const pfp = document.getElementById("pfp");
pfp.textContent = loggedInUser.charAt(0).toUpperCase();

let savedColor = sessionStorage.getItem("pfpColor");
if (!savedColor) {
    const colors = ["#1E90FF","#FF4500","#32CD32","#FFD700","#6A5ACD","#FF69B4","#00CED1"];
    savedColor = colors[Math.floor(Math.random()*colors.length)];
    sessionStorage.setItem("pfpColor", savedColor);
}
pfp.style.backgroundColor = savedColor;

// ===== PROFILE DROPDOWN =====
let isOpen=false;
const dropdown=document.getElementById("dropdown");
pfp.addEventListener("click",()=>{
    isOpen=!isOpen;
    dropdown.style.display=isOpen?"block":"none";
});
document.addEventListener("click",(e)=>{
    if(!pfp.contains(e.target)&&!dropdown.contains(e.target)){
        dropdown.style.display="none";
        isOpen=false;
    }
});
document.getElementById("logout-btn").addEventListener("click",()=>{
    sessionStorage.clear();
    window.location.href="index.html";
});

// ===== REDIRECT TABS =====
document.getElementById("websites-tab").addEventListener("click",()=>{
    window.location.href="websites.html";
});
document.getElementById("settings").addEventListener("click",()=>{
    window.location.href="settings.html";
});

// ===== SIDEBAR COLLAPSE =====
document.getElementById("hamburger-title").addEventListener("click",()=>{
    document.getElementById("sidebar").classList.toggle("collapsed");
});
</script>
</body>
</html>
